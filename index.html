<!DOCTYPE html>
<html>
<head>
<title>KHÓA HỌC DYNAMO</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script>
function toggleAccordion(id) {
    let content = document.getElementById(id);
    
    // Kiểm tra nếu accordion đang ẩn thì hiển thị, ngược lại thì ẩn
    if (content.style.maxHeight) {
        content.style.maxHeight = null;
    } else {
        content.style.maxHeight = content.scrollHeight + "px";
    }
}

// Hiển thị nội dung chương và lưu chỉnh sửa
function showChapter(chapterId) {
    document.querySelectorAll(".chapter").forEach(el => el.style.display = "none");
    document.getElementById(chapterId).style.display = "block";
}

// Lưu nội dung vào LocalStorage khi chỉnh sửa
function saveContent(chapterId) {
    let content = document.getElementById(chapterId).innerHTML;
    localStorage.setItem(chapterId, content);
}

// Tải nội dung từ LocalStorage khi mở trang
function loadContent() {
    document.querySelectorAll(".chapter").forEach(el => {
        let savedContent = localStorage.getItem(el.id);
        if (savedContent) el.innerHTML = savedContent;
    });
}

window.onload = loadContent;
</script>
<style>
/* Định dạng accordion */
.accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}
</style>
</head>
<body>

<!-- Sidebar -->
<div class="w3-sidebar w3-light-grey w3-bar-block" style="width:25%">
  <h3 class="w3-bar-item">KHÓA HỌC DYNAMO</h3>
  <button class="w3-button w3-block w3-left-align" onclick="toggleAccordion('accordionChapters')">
    Các Chương <i class="fa fa-caret-down"></i>
  </button>
  <div id="accordionChapters" class="accordion-content w3-white w3-card">
    <a href="#" class="w3-bar-item w3-button" onclick="showChapter('chapter1')">CHƯƠNG 1</a>
    <a href="#" class="w3-bar-item w3-button" onclick="showChapter('chapter2')">CHƯƠNG 2</a>
    <a href="#" class="w3-bar-item w3-button" onclick="showChapter('chapter3')">CHƯƠNG 3</a>
  </div>
</div>

<!-- Page Content -->
<div style="margin-left:25%">
  <div class="w3-container w3-teal">
    <h1>KHÓA HỌC DYNAMO</h1>
  </div>

  <!-- CHƯƠNG 1 -->
  <div class="w3-container chapter" id="chapter1" contenteditable="true" oninput="saveContent('chapter1')">
    <h2>CHƯƠNG 1: Giới thiệu về Dynamo</h2>
    <p>Đây là nội dung của chương 1...</p>
    <img src="images/Dynamo1.png" alt="Chương 1" style="width:100%">
  </div>

  <!-- CHƯƠNG 2 -->
  <div class="w3-container chapter" id="chapter2" contenteditable="true" oninput="saveContent('chapter2')" style="display:none;">
    <h2>CHƯƠNG 2: Các công cụ cơ bản</h2>
    <p>Đây là nội dung của chương 2...</p>
    <img src="images/Dynamo2.png" alt="Chương 2" style="width:100%">
  </div>

  <!-- CHƯƠNG 3 -->
  <div class="w3-container chapter" id="chapter3" contenteditable="true" oninput="saveContent('chapter3')" style="display:none;">
    <h2>CHƯƠNG 3: Ứng dụng thực tế</h2>
    <p>Đây là nội dung của chương 3...</p>
    <img src="images/Dynamo3.png" alt="Chương 3" style="width:100%">
  </div>
</div>

</body>
</html>